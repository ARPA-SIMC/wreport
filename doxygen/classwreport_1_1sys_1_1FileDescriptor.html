<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libwreport: wreport::sys::FileDescriptor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libwreport
   &#160;<span id="projectnumber">3.29</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacewreport.html">wreport</a></li><li class="navelem"><b>sys</b></li><li class="navelem"><a class="el" href="classwreport_1_1sys_1_1FileDescriptor.html">FileDescriptor</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">wreport::sys::FileDescriptor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Common operations on file descriptors.  
 <a href="classwreport_1_1sys_1_1FileDescriptor.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="sys_8h_source.html">sys.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for wreport::sys::FileDescriptor:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classwreport_1_1sys_1_1FileDescriptor.png" usemap="#wreport::sys::FileDescriptor_map" alt=""/>
  <map id="wreport::sys::FileDescriptor_map" name="wreport::sys::FileDescriptor_map">
<area href="classwreport_1_1sys_1_1NamedFileDescriptor.html" title="File descriptor with a name." alt="wreport::sys::NamedFileDescriptor" shape="rect" coords="134,56,392,80"/>
<area href="structwreport_1_1sys_1_1ManagedNamedFileDescriptor.html" title="File descriptor that gets automatically closed in the object destructor." alt="wreport::sys::ManagedNamedFileDescriptor" shape="rect" coords="134,112,392,136"/>
<area href="classwreport_1_1sys_1_1File.html" title="File in the file system." alt="wreport::sys::File" shape="rect" coords="0,168,258,192"/>
<area href="structwreport_1_1sys_1_1Path.html" title="Wrap a path on the file system opened with O_PATH." alt="wreport::sys::Path" shape="rect" coords="268,168,526,192"/>
<area href="classwreport_1_1sys_1_1Tempfile.html" title="Open a temporary file." alt="wreport::sys::Tempfile" shape="rect" coords="0,224,258,248"/>
<area href="classwreport_1_1sys_1_1Tempdir.html" title="Open a temporary directory." alt="wreport::sys::Tempdir" shape="rect" coords="268,224,526,248"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a790dd94a76ef01897ef6d948fb43f69a"><td class="memItemLeft" align="right" valign="top"><a id="a790dd94a76ef01897ef6d948fb43f69a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>FileDescriptor</b> (<a class="el" href="classwreport_1_1sys_1_1FileDescriptor.html">FileDescriptor</a> &amp;&amp;o)</td></tr>
<tr class="separator:a790dd94a76ef01897ef6d948fb43f69a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97a2b51f58ae485afed1c7b3a8d510a2"><td class="memItemLeft" align="right" valign="top"><a id="a97a2b51f58ae485afed1c7b3a8d510a2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>FileDescriptor</b> (int fd)</td></tr>
<tr class="separator:a97a2b51f58ae485afed1c7b3a8d510a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab627a1d50f1d421ff381d3b19a20f5ce"><td class="memItemLeft" align="right" valign="top"><a id="ab627a1d50f1d421ff381d3b19a20f5ce"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>FileDescriptor</b> (const <a class="el" href="classwreport_1_1sys_1_1FileDescriptor.html">FileDescriptor</a> &amp;o)=default</td></tr>
<tr class="separator:ab627a1d50f1d421ff381d3b19a20f5ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f063c3bb85834c0f8961ccd3605b449"><td class="memItemLeft" align="right" valign="top"><a id="a1f063c3bb85834c0f8961ccd3605b449"></a>
<a class="el" href="classwreport_1_1sys_1_1FileDescriptor.html">FileDescriptor</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classwreport_1_1sys_1_1FileDescriptor.html">FileDescriptor</a> &amp;o)=default</td></tr>
<tr class="separator:a1f063c3bb85834c0f8961ccd3605b449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afde4cf86a097deb4f26e2f1d32e9009a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwreport_1_1sys_1_1FileDescriptor.html#afde4cf86a097deb4f26e2f1d32e9009a">throw_error</a> (const char *desc)</td></tr>
<tr class="memdesc:afde4cf86a097deb4f26e2f1d32e9009a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Throw an exception based on errno and the given message.  <a href="classwreport_1_1sys_1_1FileDescriptor.html#afde4cf86a097deb4f26e2f1d32e9009a">More...</a><br /></td></tr>
<tr class="separator:afde4cf86a097deb4f26e2f1d32e9009a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeda4f3e76fca73c820543ec5507ce72a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwreport_1_1sys_1_1FileDescriptor.html#aeda4f3e76fca73c820543ec5507ce72a">throw_runtime_error</a> (const char *desc)</td></tr>
<tr class="memdesc:aeda4f3e76fca73c820543ec5507ce72a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Throw a runtime_error unrelated from errno.  <a href="classwreport_1_1sys_1_1FileDescriptor.html#aeda4f3e76fca73c820543ec5507ce72a">More...</a><br /></td></tr>
<tr class="separator:aeda4f3e76fca73c820543ec5507ce72a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc4276eb935cf4cdefdde64754a6237c"><td class="memItemLeft" align="right" valign="top"><a id="adc4276eb935cf4cdefdde64754a6237c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwreport_1_1sys_1_1FileDescriptor.html#adc4276eb935cf4cdefdde64754a6237c">is_open</a> () const</td></tr>
<tr class="memdesc:adc4276eb935cf4cdefdde64754a6237c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the file descriptor is open (that is, if it is not -1) <br /></td></tr>
<tr class="separator:adc4276eb935cf4cdefdde64754a6237c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac96bc5781c73b971cf64b875bce5d31b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwreport_1_1sys_1_1FileDescriptor.html#ac96bc5781c73b971cf64b875bce5d31b">close</a> ()</td></tr>
<tr class="memdesc:ac96bc5781c73b971cf64b875bce5d31b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the file descriptor, setting its value to -1.  <a href="classwreport_1_1sys_1_1FileDescriptor.html#ac96bc5781c73b971cf64b875bce5d31b">More...</a><br /></td></tr>
<tr class="separator:ac96bc5781c73b971cf64b875bce5d31b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4d102c993e7f98bd1585e5e14cd4221"><td class="memItemLeft" align="right" valign="top"><a id="ab4d102c993e7f98bd1585e5e14cd4221"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>fstat</b> (struct stat &amp;st)</td></tr>
<tr class="separator:ab4d102c993e7f98bd1585e5e14cd4221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54e55cd9fa325852ffdbf0006ae6d044"><td class="memItemLeft" align="right" valign="top"><a id="a54e55cd9fa325852ffdbf0006ae6d044"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>fchmod</b> (mode_t mode)</td></tr>
<tr class="separator:a54e55cd9fa325852ffdbf0006ae6d044"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3b1880c13bdbcc7fc01d896b356bb00"><td class="memItemLeft" align="right" valign="top"><a id="ae3b1880c13bdbcc7fc01d896b356bb00"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>futimens</b> (const struct ::timespec ts[2])</td></tr>
<tr class="separator:ae3b1880c13bdbcc7fc01d896b356bb00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6857a15b018bff325845cd7575b45527"><td class="memItemLeft" align="right" valign="top"><a id="a6857a15b018bff325845cd7575b45527"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>fsync</b> ()</td></tr>
<tr class="separator:a6857a15b018bff325845cd7575b45527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94d6e5bbd89290f31a06e378fb5096b4"><td class="memItemLeft" align="right" valign="top"><a id="a94d6e5bbd89290f31a06e378fb5096b4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>fdatasync</b> ()</td></tr>
<tr class="separator:a94d6e5bbd89290f31a06e378fb5096b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a24568bc84cc4fd3b06080152fdcaf8"><td class="memItemLeft" align="right" valign="top"><a id="a7a24568bc84cc4fd3b06080152fdcaf8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>dup</b> ()</td></tr>
<tr class="separator:a7a24568bc84cc4fd3b06080152fdcaf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c526f893fae5481189a87ca1817032a"><td class="memItemLeft" align="right" valign="top"><a id="a8c526f893fae5481189a87ca1817032a"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>read</b> (void *buf, size_t count)</td></tr>
<tr class="separator:a8c526f893fae5481189a87ca1817032a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a870c88cdf2467cd4fe37261ae74cbbaf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwreport_1_1sys_1_1FileDescriptor.html#a870c88cdf2467cd4fe37261ae74cbbaf">read_all_or_retry</a> (void *buf, size_t count)</td></tr>
<tr class="memdesc:a870c88cdf2467cd4fe37261ae74cbbaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read <code>count</code> bytes into bufr, retrying partial reads, stopping at EOF.  <a href="classwreport_1_1sys_1_1FileDescriptor.html#a870c88cdf2467cd4fe37261ae74cbbaf">More...</a><br /></td></tr>
<tr class="separator:a870c88cdf2467cd4fe37261ae74cbbaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad25f1cf7b87dd32ad861109c2eb6af0b"><td class="memItemLeft" align="right" valign="top"><a id="ad25f1cf7b87dd32ad861109c2eb6af0b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwreport_1_1sys_1_1FileDescriptor.html#ad25f1cf7b87dd32ad861109c2eb6af0b">read_all_or_throw</a> (void *buf, size_t count)</td></tr>
<tr class="memdesc:ad25f1cf7b87dd32ad861109c2eb6af0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read all the data into buf, throwing runtime_error in case of a partial read. <br /></td></tr>
<tr class="separator:ad25f1cf7b87dd32ad861109c2eb6af0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28d025abf1fd5fa532b418dca5fb0675"><td class="memItemLeft" align="right" valign="top"><a id="a28d025abf1fd5fa532b418dca5fb0675"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>write</b> (const void *buf, size_t count)</td></tr>
<tr class="separator:a28d025abf1fd5fa532b418dca5fb0675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7301fc74adf7bf403555d5dc092333d8"><td class="memTemplParams" colspan="2"><a id="a7301fc74adf7bf403555d5dc092333d8"></a>
template&lt;typename Container &gt; </td></tr>
<tr class="memitem:a7301fc74adf7bf403555d5dc092333d8"><td class="memTemplItemLeft" align="right" valign="top">size_t&#160;</td><td class="memTemplItemRight" valign="bottom"><b>write</b> (const Container &amp;c)</td></tr>
<tr class="separator:a7301fc74adf7bf403555d5dc092333d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a353886ff759002fc73a807a61e550b1c"><td class="memItemLeft" align="right" valign="top"><a id="a353886ff759002fc73a807a61e550b1c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwreport_1_1sys_1_1FileDescriptor.html#a353886ff759002fc73a807a61e550b1c">write_all_or_retry</a> (const void *buf, size_t count)</td></tr>
<tr class="memdesc:a353886ff759002fc73a807a61e550b1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write all the data in buf, retrying partial writes. <br /></td></tr>
<tr class="separator:a353886ff759002fc73a807a61e550b1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b8bbe01bd31cb68d9153ece0ce5866d"><td class="memTemplParams" colspan="2"><a id="a9b8bbe01bd31cb68d9153ece0ce5866d"></a>
template&lt;typename Container &gt; </td></tr>
<tr class="memitem:a9b8bbe01bd31cb68d9153ece0ce5866d"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>write_all_or_retry</b> (const Container &amp;c)</td></tr>
<tr class="separator:a9b8bbe01bd31cb68d9153ece0ce5866d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab794bc5fc0cd05ba9f98f408841b337c"><td class="memItemLeft" align="right" valign="top"><a id="ab794bc5fc0cd05ba9f98f408841b337c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwreport_1_1sys_1_1FileDescriptor.html#ab794bc5fc0cd05ba9f98f408841b337c">write_all_or_throw</a> (const void *buf, size_t count)</td></tr>
<tr class="memdesc:ab794bc5fc0cd05ba9f98f408841b337c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write all the data in buf, throwing runtime_error in case of a partial write. <br /></td></tr>
<tr class="separator:ab794bc5fc0cd05ba9f98f408841b337c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ef85c018873737c818c7c0456ec3ac3"><td class="memTemplParams" colspan="2"><a id="a6ef85c018873737c818c7c0456ec3ac3"></a>
template&lt;typename Container &gt; </td></tr>
<tr class="memitem:a6ef85c018873737c818c7c0456ec3ac3"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>write_all_or_throw</b> (const Container &amp;c)</td></tr>
<tr class="separator:a6ef85c018873737c818c7c0456ec3ac3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1efd7e213916bf429b3b9afd9b6a5500"><td class="memItemLeft" align="right" valign="top"><a id="a1efd7e213916bf429b3b9afd9b6a5500"></a>
off_t&#160;</td><td class="memItemRight" valign="bottom"><b>lseek</b> (off_t offset, int whence=SEEK_SET)</td></tr>
<tr class="separator:a1efd7e213916bf429b3b9afd9b6a5500"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cc168cb94994fb6c209040c1bcf3afb"><td class="memItemLeft" align="right" valign="top"><a id="a8cc168cb94994fb6c209040c1bcf3afb"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>pread</b> (void *buf, size_t count, off_t offset)</td></tr>
<tr class="separator:a8cc168cb94994fb6c209040c1bcf3afb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0af4dc7566ff7911303b4f83c9c61bb8"><td class="memItemLeft" align="right" valign="top"><a id="a0af4dc7566ff7911303b4f83c9c61bb8"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>pwrite</b> (const void *buf, size_t count, off_t offset)</td></tr>
<tr class="separator:a0af4dc7566ff7911303b4f83c9c61bb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7995b586f3842c7a366f56ffcd4a725f"><td class="memTemplParams" colspan="2"><a id="a7995b586f3842c7a366f56ffcd4a725f"></a>
template&lt;typename Container &gt; </td></tr>
<tr class="memitem:a7995b586f3842c7a366f56ffcd4a725f"><td class="memTemplItemLeft" align="right" valign="top">size_t&#160;</td><td class="memTemplItemRight" valign="bottom"><b>pwrite</b> (const Container &amp;c, off_t offset)</td></tr>
<tr class="separator:a7995b586f3842c7a366f56ffcd4a725f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9181e0f6db1aac86e7686bfb3f46e4bf"><td class="memItemLeft" align="right" valign="top"><a id="a9181e0f6db1aac86e7686bfb3f46e4bf"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>ftruncate</b> (off_t length)</td></tr>
<tr class="separator:a9181e0f6db1aac86e7686bfb3f46e4bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a053fee1d0648ca2fde64bd15e2dd36f6"><td class="memItemLeft" align="right" valign="top"><a id="a053fee1d0648ca2fde64bd15e2dd36f6"></a>
<a class="el" href="classwreport_1_1sys_1_1MMap.html">MMap</a>&#160;</td><td class="memItemRight" valign="bottom"><b>mmap</b> (size_t length, int prot, int flags, off_t offset=0)</td></tr>
<tr class="separator:a053fee1d0648ca2fde64bd15e2dd36f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c273c8a6854c3e6189b1d67bdbc12e3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwreport_1_1sys_1_1FileDescriptor.html#a7c273c8a6854c3e6189b1d67bdbc12e3">ofd_setlk</a> (struct ::flock &amp;)</td></tr>
<tr class="memdesc:a7c273c8a6854c3e6189b1d67bdbc12e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open file description locks F_OFD_SETLK operation.  <a href="classwreport_1_1sys_1_1FileDescriptor.html#a7c273c8a6854c3e6189b1d67bdbc12e3">More...</a><br /></td></tr>
<tr class="separator:a7c273c8a6854c3e6189b1d67bdbc12e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa34ba4098f0c191f83af6ab1f69799b5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwreport_1_1sys_1_1FileDescriptor.html#aa34ba4098f0c191f83af6ab1f69799b5">ofd_setlkw</a> (struct ::flock &amp;, bool retry_on_signal=true)</td></tr>
<tr class="memdesc:aa34ba4098f0c191f83af6ab1f69799b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open file description locks F_OFD_SETLKW operation.  <a href="classwreport_1_1sys_1_1FileDescriptor.html#aa34ba4098f0c191f83af6ab1f69799b5">More...</a><br /></td></tr>
<tr class="separator:aa34ba4098f0c191f83af6ab1f69799b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9e3802e2649240d279970807bcf6af4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwreport_1_1sys_1_1FileDescriptor.html#aa9e3802e2649240d279970807bcf6af4">ofd_getlk</a> (struct ::flock &amp;)</td></tr>
<tr class="memdesc:aa9e3802e2649240d279970807bcf6af4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open file description locks F_OFD_GETLK operation.  <a href="classwreport_1_1sys_1_1FileDescriptor.html#aa9e3802e2649240d279970807bcf6af4">More...</a><br /></td></tr>
<tr class="separator:aa9e3802e2649240d279970807bcf6af4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85feb24f4c2c71eccbb0350d0820fe69"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwreport_1_1sys_1_1FileDescriptor.html#a85feb24f4c2c71eccbb0350d0820fe69">sendfile</a> (<a class="el" href="classwreport_1_1sys_1_1FileDescriptor.html">FileDescriptor</a> &amp;out_fd, off_t offset, size_t count)</td></tr>
<tr class="memdesc:a85feb24f4c2c71eccbb0350d0820fe69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call sendfile with this file as in_fd, falling back on write if it is not available.  <a href="classwreport_1_1sys_1_1FileDescriptor.html#a85feb24f4c2c71eccbb0350d0820fe69">More...</a><br /></td></tr>
<tr class="separator:a85feb24f4c2c71eccbb0350d0820fe69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad858286df901ea4bf9e6d845e4172fb1"><td class="memItemLeft" align="right" valign="top"><a id="ad858286df901ea4bf9e6d845e4172fb1"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwreport_1_1sys_1_1FileDescriptor.html#ad858286df901ea4bf9e6d845e4172fb1">getfl</a> ()</td></tr>
<tr class="memdesc:ad858286df901ea4bf9e6d845e4172fb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get open flags for the file. <br /></td></tr>
<tr class="separator:ad858286df901ea4bf9e6d845e4172fb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58aa75d75f332ff57efd8e4057d149a8"><td class="memItemLeft" align="right" valign="top"><a id="a58aa75d75f332ff57efd8e4057d149a8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwreport_1_1sys_1_1FileDescriptor.html#a58aa75d75f332ff57efd8e4057d149a8">setfl</a> (int flags)</td></tr>
<tr class="memdesc:a58aa75d75f332ff57efd8e4057d149a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set open flags for the file. <br /></td></tr>
<tr class="separator:a58aa75d75f332ff57efd8e4057d149a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84316db869f9760bfed04a18bbb0393a"><td class="memItemLeft" align="right" valign="top"><a id="a84316db869f9760bfed04a18bbb0393a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>operator int</b> () const</td></tr>
<tr class="separator:a84316db869f9760bfed04a18bbb0393a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:adbdd8b349209226f76655137329474f1"><td class="memItemLeft" align="right" valign="top"><a id="adbdd8b349209226f76655137329474f1"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>fd</b> = -1</td></tr>
<tr class="separator:adbdd8b349209226f76655137329474f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Common operations on file descriptors. </p>
<p>Except when documented otherwise, methods of this class are just thin wrappers around the libc functions with the same name, that check error results and throw exceptions if the functions failed.</p>
<p>Implementing what to do on construction and destruction is left to the subclassers: at the <a class="el" href="classwreport_1_1sys_1_1FileDescriptor.html" title="Common operations on file descriptors.">FileDescriptor</a> level, the destructor does nothing and leaves the file descriptor open. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ac96bc5781c73b971cf64b875bce5d31b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac96bc5781c73b971cf64b875bce5d31b">&#9670;&nbsp;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wreport::sys::FileDescriptor::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the file descriptor, setting its value to -1. </p>
<p>Does nothing if the file descriptor is already closed </p>

</div>
</div>
<a id="aa9e3802e2649240d279970807bcf6af4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9e3802e2649240d279970807bcf6af4">&#9670;&nbsp;</a></span>ofd_getlk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool wreport::sys::FileDescriptor::ofd_getlk </td>
          <td>(</td>
          <td class="paramtype">struct ::flock &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open file description locks F_OFD_GETLK operation. </p>
<p>Returns true if the lock would have been obtainable, false if not. </p>

</div>
</div>
<a id="a7c273c8a6854c3e6189b1d67bdbc12e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c273c8a6854c3e6189b1d67bdbc12e3">&#9670;&nbsp;</a></span>ofd_setlk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool wreport::sys::FileDescriptor::ofd_setlk </td>
          <td>(</td>
          <td class="paramtype">struct ::flock &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open file description locks F_OFD_SETLK operation. </p>
<p>Returns true if the lock was obtained, false if acquiring the lock failed. </p>

</div>
</div>
<a id="aa34ba4098f0c191f83af6ab1f69799b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa34ba4098f0c191f83af6ab1f69799b5">&#9670;&nbsp;</a></span>ofd_setlkw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool wreport::sys::FileDescriptor::ofd_setlkw </td>
          <td>(</td>
          <td class="paramtype">struct ::flock &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>retry_on_signal</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open file description locks F_OFD_SETLKW operation. </p>
<p>Returns true if the lock was obtained, false if a signal was received while waiting for the lock.</p>
<p>If retry_on_signal is true, acquiring the lock is automatically retried in case of signals, and the function always returns true. </p>

</div>
</div>
<a id="a870c88cdf2467cd4fe37261ae74cbbaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a870c88cdf2467cd4fe37261ae74cbbaf">&#9670;&nbsp;</a></span>read_all_or_retry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool wreport::sys::FileDescriptor::read_all_or_retry </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read <code>count</code> bytes into bufr, retrying partial reads, stopping at EOF. </p>
<p>Return true if <code>count</code> bytes have been read, false in case of eof, and raise an exception in case EOF was found after reading between 0 and count-1 bytes. </p>

</div>
</div>
<a id="a85feb24f4c2c71eccbb0350d0820fe69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85feb24f4c2c71eccbb0350d0820fe69">&#9670;&nbsp;</a></span>sendfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wreport::sys::FileDescriptor::sendfile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classwreport_1_1sys_1_1FileDescriptor.html">FileDescriptor</a> &amp;&#160;</td>
          <td class="paramname"><em>out_fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call sendfile with this file as in_fd, falling back on write if it is not available. </p>
<p>Perform retry if data was partially written. </p>

</div>
</div>
<a id="afde4cf86a097deb4f26e2f1d32e9009a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afde4cf86a097deb4f26e2f1d32e9009a">&#9670;&nbsp;</a></span>throw_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void wreport::sys::FileDescriptor::throw_error </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>desc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Throw an exception based on errno and the given message. </p>
<p>This can be overridden by subclasses that may have more information about the file descriptor, so that they can generate more descriptive messages. </p>

<p>Reimplemented in <a class="el" href="classwreport_1_1sys_1_1NamedFileDescriptor.html#af48d4a2762cc96028790d49ec1942f84">wreport::sys::NamedFileDescriptor</a>.</p>

</div>
</div>
<a id="aeda4f3e76fca73c820543ec5507ce72a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeda4f3e76fca73c820543ec5507ce72a">&#9670;&nbsp;</a></span>throw_runtime_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void wreport::sys::FileDescriptor::throw_runtime_error </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>desc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Throw a runtime_error unrelated from errno. </p>
<p>This can be overridden by subclasses that may have more information about the file descriptor, so that they can generate more descriptive messages. </p>

<p>Reimplemented in <a class="el" href="classwreport_1_1sys_1_1NamedFileDescriptor.html#a997b6bb787ece80d723752fbf7adfc9e">wreport::sys::NamedFileDescriptor</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="sys_8h_source.html">sys.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Mar 24 2021 17:29:26 for libwreport by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
